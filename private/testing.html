<!DOCTYPE html>
<meta charset="utf-8">
<head>
  <title>d3-fractals</title>
  <script src="//d3js.org/d3.v4.0.0-alpha.9.min.js"></script>
</head>

<body>
  <svg id="pentagonsandtriangles">
  </svg>
  <script>
 
  	var width = 800;
	var height = 500;
	var monsterColour = "rgb(254, 111, 94)";
	var decagonColour = "rgb(176,224,230)";
	var pentagonColour = "rgb(102,153,204)";
	var pentacleColour = "rgb(255,3,62)";

	var svg = d3.select("#pentagonsandtriangles")
		.attr("width", width)
	.attr("height", height);

	//generateMotif(400,200);
	//generateMotif(247,200);
	generateRow(247,200,3);
	function generateRow(startx, starty, number) {
	    if (number != 0) {
                generateMotif(startx, starty);
	        generateRow(startx + 153, starty, number -1);
	    }
        }
	
	
	function generateMotif(centerx,centery) {
	
	svg.append("svg:polygon")
	    .attr("id", "hexagon1")
	    .attr("visibility", "visible")
	    .attr("points", calculatePolygonPoints(6,centerx, centery, 25)) //600,200
	    .attr("fill", "none")
	    .attr("stroke","black")
	    .attr("stroke-width", "1")
	.style("fill", pentacleColour);

	var tradius = 44;

	var t1x = centerx - 25.2; //174.8 + 400;
	var t1y = centery + 44; //244

	svg.append("svg:polygon")
	    .attr("id", "triangle1")
	    .attr("visibility", "visible")
	    .attr("points", calculatePolygonPoints(3,t1x, t1y,tradius))
	    .attr("transform", " rotate(30," + t1x + "," + t1y + ")")
	    .attr("fill", "none")
	    .attr("stroke","black")
	.attr("stroke-width", "1")
	.style("fill", decagonColour);

	var t2x = centerx + 25.3 //225.3 + 400;
	var t2y = centery + 43.5 //243.5;
	var t2rot = 210;
	
	svg.append("svg:polygon")
	    .attr("id", "triangle2")
	    .attr("visibility", "visible")
	    .attr("points", calculatePolygonPoints(3,t2x, t2y,tradius))
	    .attr("transform", " rotate(" + t2rot + "," + t2x + "," + t2y + ")")
	    .attr("fill", "none")
	    .attr("stroke","black")
	    .attr("stroke-width", "1")
	.style("fill", decagonColour);

	var t3x = centerx + 50.5; //250.5 + 400;
	var t3y = centery - 0.5 //199.5;
	var t3rot = 30;
	
	svg.append("svg:polygon")
	    .attr("id", "triangle3")
	    .attr("visibility", "visible")
	    .attr("points", calculatePolygonPoints(3,t3x, t3y,tradius))
	    .attr("transform", " rotate(" + t3rot + "," + t3x + "," + t3y + ")")
	    .attr("fill", "none")
	    .attr("stroke","black")
	    .attr("stroke-width", "1")
	.style("fill", decagonColour);

	var t4x = centerx + 24.8 //224.8 + 400;
	var t4y = centery - 44 //156;
	var t4rot = 210;
	
	svg.append("svg:polygon")
	    .attr("id", "triangle4")
	    .attr("visibility", "visible")
	    .attr("points", calculatePolygonPoints(3,t4x, t4y,tradius))
	    .attr("transform", " rotate(" + t4rot + "," + t4x + "," + t4y + ")")
	    .attr("fill", "none")
	    .attr("stroke","black")
	    .attr("stroke-width", "1")
	.style("fill", decagonColour);

	var t5x = centerx - 25.8; //174.2 + 400;
	var t5y = centery - 43.5; //156.5;
	var t5rot = 30;
	
	svg.append("svg:polygon")
	    .attr("id", "triangle5")
	    .attr("visibility", "visible")
	    .attr("points", calculatePolygonPoints(3,t5x, t5y,tradius))
	    .attr("transform", " rotate(" + t5rot + "," + t5x + "," + t5y + ")")
	    .attr("fill", "none")
	    .attr("stroke","black")
	    .attr("stroke-width", "1")
	.style("fill", decagonColour);

	var t6x = centerx - 51; // 149 + 400;
	var t6y = centery + 0.5; //200.5;
	var t6rot = 210;
	
	svg.append("svg:polygon")
	    .attr("id", "triangle6")
	    .attr("visibility", "visible")
	    .attr("points", calculatePolygonPoints(3,t6x, t6y,tradius))
	    .attr("transform", " rotate(" + t6rot + "," + t6x + "," + t6y + ")")
	    .attr("fill", "none")
	    .attr("stroke","black")
	    .attr("stroke-width", "1")
	.style("fill", decagonColour);
	}
	
	function calculatePolygonPoints(sides, centerX, centerY, radius) {

	    var results = "";
	    var angle = Math.PI / sides;
	    var r = radius;

	    for (var i = 0; i < sides; i++) {
		var currX = centerX + Math.cos(i * 2 * angle) * r;
		var currY = centerY + Math.sin(i * 2 * angle) *  r;

				// Our first time we simply append the coordinates
		// subsequent times we append a ", " to distinguish
		// each coordinate pair.

		if (i == 0)
		{
		    results = currX + "," + currY;
		}
		else
		{
		    results += "," + currX + "," + currY;
		}
	    }

	    return results;
	}	

Â 


</script>	

  
  
</body>
